<Page
    x:Class="CoinBase.Page_Portfolio"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:CoinBase"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    NavigationCacheMode="Enabled"
    mc:Ignorable="d">

    <Page.Resources>
        <Style TargetType="TextBlock" x:Key="ListViewTextBlock">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="Light"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
    </Page.Resources>
    
    <StackPanel Padding="10" Background="{ThemeResource SystemControlPageBackgroundChromeLowBrush}">

        <TextBlock Text="Portfolio"
                   Style="{ThemeResource HeaderTextBlockStyle}"/>

        <StackPanel Orientation="Horizontal" Margin="0, 20, 0, 0" >
            <ComboBox x:Name="CryptoComboBox" PlaceholderText="BTC" Header="Crypto">
                <ComboBoxItem Content="BTC" Name="BTC" IsSelected="True"/>
                <ComboBoxItem Content="ETH" Name="ETH" />
                <ComboBoxItem Content="LTC" Name="LTC" />
            </ComboBox>

            <TextBox 
                x:Name="_cryptoAmount" Header="Amount"
                Margin="10, 0" PlaceholderText="0.3814" Width="100"/>
            <TextBox 
                x:Name="_invested" Header="Money €/$"
                Margin="10, 0" PlaceholderText="41" Width="100"/>
            <Button Content="Add" Click="AddButton_Click" VerticalAlignment="Bottom" Width="100" Margin="10, 0"/>
            <Button Content="Update" Click="UpdatePortfolio_Click" VerticalAlignment="Bottom" Width="100" Margin="10, 0"/>
        </StackPanel>
        
        <StackPanel Margin="0, 20, 0, 0">

            <Grid Background="Red" Height="400" Visibility="Collapsed">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*"/>
                    <ColumnDefinition Width="5*"/>
                    <ColumnDefinition Width="5*"/>
                    <ColumnDefinition Width="10*"/>
                </Grid.ColumnDefinitions>
            </Grid>

            <ListView x:Name="MyListView" ItemsSource="{Binding dataListm, Mode=OneWay}">
                <ListView.ItemTemplate>

                    <DataTemplate>
                        <StackPanel Orientation="Horizontal" Margin="10, 10">

                            <StackPanel Orientation="Horizontal" Grid.Column="0" Width="100">
                                <TextBlock Text="{Binding Amount}" Style="{StaticResource ListViewTextBlock}"/>
                                <TextBlock Text="{Binding Crypto}" Style="{StaticResource ListViewTextBlock}"/>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" Grid.Column="1" Width="300">
                                <TextBlock Text="Original investment: " Style="{StaticResource ListViewTextBlock}"/>
                                <TextBlock Text="{Binding Invested}" Style="{StaticResource ListViewTextBlock}"/>
                            </StackPanel>

                            <StackPanel Orientation="Horizontal" Grid.Column="2">
                                <TextBlock Text="Current value: " Style="{StaticResource ListViewTextBlock}"/>
                                <TextBlock Text="{Binding Current, Mode=OneWay}" Style="{StaticResource ListViewTextBlock}"/>
                            </StackPanel>
                        </StackPanel>
                    </DataTemplate>

                </ListView.ItemTemplate>
                
                <!--<ListViewItem>
                    <StackPanel Orientation="Horizontal" Background="{ThemeResource SystemControlBackgroundListLowBrush}">
                        <StackPanel Orientation="Horizontal" Grid.Column="0" Width="100">
                            <TextBlock Text="0.5912" Style="{StaticResource ListViewTextBlock}"/>
                            <TextBlock Text="BTC" Style="{StaticResource ListViewTextBlock}"/>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal" Grid.Column="1" Width="300">
                            <TextBlock Text="Original investment: " Style="{StaticResource ListViewTextBlock}"/>
                            <TextBlock Text="{Binding Invested}" Style="{StaticResource ListViewTextBlock}"/>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal" Grid.Column="2" Width="300">
                            <TextBlock Text="Current value: " Style="{StaticResource ListViewTextBlock}"/>
                            <TextBlock Text="{Binding Current}" Style="{StaticResource ListViewTextBlock}"/>
                        </StackPanel>

                        <Button Background="Transparent">
                            <SymbolIcon Symbol="Cancel"/>
                        </Button>
                    </StackPanel>
                </ListViewItem>-->
                
            </ListView>

        </StackPanel>
    </StackPanel>
</Page>
